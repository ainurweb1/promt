<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI –¢–∞–ø—Å—ã—Ä–º–∞ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã - –ü–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <!-- Tailwind CSS (Single File) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ò–Ω—Ç–µ—Ä —à—Ä–∏—Ñ—Ç—ñ–Ω “õ–æ–ª–¥–∞–Ω—É */
        body {
            font-family: 'Inter', sans-serif;
            color: #e5e7eb; /* –ê—à—ã“õ –º”ô—Ç—ñ–Ω —Ç“Ø—Å—ñ */
            /* –ñ–∞“£–∞: “ö–æ—é –∫”©–∫—à—ñ–ª–¥–µ–Ω –∞“õ“õ–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            background-image: linear-gradient(135deg, #102040 0%, #FFFFFF 100%); 
            background-attachment: fixed; /* Parallax —ç—Ñ—Ñ–µ–∫—Ç—ñ–Ω—ñ“£ –∫—ñ–ª—Ç—ñ */
            background-size: cover;
        }
        /* –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (Header –º–µ–Ω Footer –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω) - “ö–æ—é –ö”©–∫ —Ç“Ø—Å */
        .container-bg {
            background-color: #102040; /* –û–ø–∞–∫—Ç—ñ “õ–æ—é –∫”©–∫ */
            backdrop-filter: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        /* Header P –º”ô—Ç—ñ–Ω—ñ–Ω—ñ“£ —Ç“Ø—Å—ñ–Ω —Ä–µ—Ç—Ç–µ—É */
        .text-gray-600 { /* Header P */
            color: #e5e7eb !important; /* –ê—à—ã“õ –º”ô—Ç—ñ–Ω */
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç –±–ª–æ–∫—Ç–∞—Ä—ã (–§–æ—Ä–º–∞ –∂”ô–Ω–µ –ù”ô—Ç–∏–∂–µ) –æ“õ—ã–ª—É “Ø—à—ñ–Ω –∞“õ —Ñ–æ–Ω–¥–∞ “õ–∞–ª–∞–¥—ã */
        .lg\:col-span-1, .lg\:col-span-2 {
            background-color: #ffffff !important; 
            color: #1a202c !important; /* –Ü—à—ñ–Ω–¥–µ–≥—ñ –º”ô—Ç—ñ–Ω “õ–∞—Ä–∞ –±–æ–ª—É—ã –∫–µ—Ä–µ–∫ */
        }

        /* Input/Textarea –∂”ô–Ω–µ Label –º”ô—Ç—ñ–Ω —Ç“Ø—Å—ñ–Ω “õ–∞—Ä–∞ –µ—Ç—É */
        input, textarea, label {
            color: #1a202c !important; 
        }

        /* –ë–∞—Ä–ª—ã“õ —ñ—à–∫—ñ —Ç–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä–¥—ã, –∫–µ—Å—Ç–µ –º”ô—Ç—ñ–Ω–¥–µ—Ä—ñ–Ω “õ–∞—Ä–∞ —Ç“Ø—Å–∫–µ “õ–∞–π—Ç–∞—Ä—É */
        .text-gray-700, .text-gray-800, .text-gray-900, .text-blue-800, .text-blue-700 {
            color: #1a202c !important;
        }

        /* –°–µ–∫—Ü–∏—è —Ç–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä—ã–Ω (Accent) –ë–æ—Ä–¥–æ–≤—ã–π —Ç“Ø—Å–∫–µ —Ä–µ—Ç—Ç–µ—É */
        .section-title {
            border-left: 4px solid #800020; /* –ë–æ—Ä–¥–æ–≤—ã–π —Ç“Ø—Å */
            padding-left: 0.75rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            color: #800020 !important; /* –ë–æ—Ä–¥–æ–≤—ã–π —Ç“Ø—Å */
        }

        /* –ï—Å–∫–µ—Ä—Ç—É –∂”ô–Ω–µ —Ñ—É—Ç—Ç–µ—Ä –º”ô—Ç—ñ–Ω—ñ–Ω –∫”©—Ä—ñ–Ω–µ—Ç—ñ–Ω–¥–µ–π –µ—Ç—É */
        .text-gray-500 {
            color: #6b7280 !important; /* –Ü—à–∫—ñ —Å“±—Ä –º”ô—Ç—ñ–Ω (–∞“õ —Ñ–æ–Ω–¥–∞) */
        }
        .container-bg .text-sm.text-gray-500 {
             color: #9ca3af !important; /* –§—É—Ç—Ç–µ—Ä –º”ô—Ç—ñ–Ω—ñ (“õ–æ—é –∫”©–∫ —Ñ–æ–Ω–¥–∞) */
        }
        
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-6xl mx-auto container-bg rounded-2xl p-6 md:p-10">

        <!-- Header -->
        <header class="text-center mb-10">
            <!-- text-blue-700 –∫–ª–∞—Å—ã text-white –±–æ–ª—ã–ø ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ -->
            <h1 class="text-3xl sm:text-4xl font-extrabold text-white mb-2">–¢–∞–ø—Å—ã—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</h1>
            <!-- –°—ã–Ω—ã–ø —à–µ–∫—Ç–µ—É—ñ –∞–ª—ã–Ω—ã–ø —Ç–∞—Å—Ç–∞–ª–¥—ã -->
            <p class="text-lg text-gray-600">–ö–µ–∑ –∫–µ–ª–≥–µ–Ω —Å—ã–Ω—ã–ø –æ“õ—É—à—ã–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å—ã–Ω–∏ –æ–π–ª–∞—É —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä—ã–Ω “õ“±—Ä–∞—Å—Ç—ã—Ä—É</p>
        </header>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Input Form (Column 1) -->
            <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg h-fit sticky top-8">
                <h2 class="text-xl font-bold mb-5 text-gray-800 border-b pb-3">–ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –µ–Ω–≥—ñ–∑—É</h2>
                <form id="promptForm" onsubmit="generatePrompt(event)">
                    
                    <div class="mb-4">
                        <label for="element" class="block text-sm font-medium text-gray-700">üìò –ü”ô–Ω:</label>
                        <input type="text" id="element" value="“ö–∞–∑–∞“õ ”ô–¥–µ–±–∏–µ—Ç—ñ" required class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 border focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="mb-4">
                        <label for="grade" class="block text-sm font-medium text-gray-700">üéì –°—ã–Ω—ã–ø:</label>
                        <input type="number" id="grade" value="6" required min="1" max="12" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 border focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="mb-4">
                        <label for="topic" class="block text-sm font-medium text-gray-700">üß© –¢–∞“õ—ã—Ä—ã–ø:</label>
                        <input type="text" id="topic" value="–ê–±–∞–π–¥—ã“£ 7-“õ–∞—Ä–∞—Å”©–∑—ñ: '–ñ–∞–Ω “õ“±–º–∞—Ä—ã –º–µ–Ω —Ç”ô–Ω “õ“±–º–∞—Ä—ã'" required class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 border focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="mb-6">
                        <label for="goal" class="block text-sm font-medium text-gray-700">üéØ –ú–∞“õ—Å–∞—Ç (–ù–µ–Ω—ñ “Ø–π—Ä–µ—Ç–∫—ñ“£—ñ–∑ –∫–µ–ª–µ–¥—ñ?):</label>
                        <textarea id="goal" rows="4" required class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 border focus:ring-blue-500 focus:border-blue-500">–û“õ—É—à—ã–ª–∞—Ä –∞–¥–∞–º–¥—ã“£ –±–æ–π—ã–Ω–¥–∞“ì—ã ¬´–∂–∞–Ω “õ“±–º–∞—Ä—ã¬ª –º–µ–Ω ¬´—Ç”ô–Ω “õ“±–º–∞—Ä—ã¬ª “±“ì—ã–º–¥–∞—Ä—ã–Ω —Ç“Ø—Å—ñ–Ω—ñ–ø, –µ“£–±–µ–∫—Ç—ñ“£, “Ø–π—Ä–µ–Ω—É–¥—ñ“£ –∂”ô–Ω–µ –±—ñ–ª—É–¥—ñ“£ –º–∞“£—ã–∑—ã–Ω “±“ì—ã–Ω—Å—ã–Ω.</textarea>
                    </div>

                    <button type="submit" id="generateButton" class="w-full py-3 px-4 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                        –¢–∞–ø—Å—ã—Ä–º–∞–Ω—ã –ì–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞—É
                    </button>
                    
                </form>
            </div>

            <!-- Output Display (Columns 2 & 3) -->
            <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg min-h-[400px]">
                <h2 class="text-xl font-bold mb-5 text-gray-800 border-b pb-3">üìö –î–∞–π—ã–Ω –û“õ—É –¢–∞–ø—Å—ã—Ä–º–∞—Å—ã</h2>
                
                <!-- Loading Indicator -->
                <div id="loading" class="hidden text-center py-10">
                    <svg class="animate-spin mx-auto h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <p class="mt-3 text-gray-600">AI-–ü–µ–¥–∞–≥–æ–≥ —Ç–∞–ø—Å—ã—Ä–º–∞–Ω—ã –æ–π–ª–∞—Å—Ç—ã—Ä—É–¥–∞...</p>
                </div>

                <!-- Result Area -->
                <div id="resultArea" class="space-y-6">
                    <p class="text-gray-500 text-center py-10">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è–Ω—ã –±–∞—Å—Ç–∞—É “Ø—à—ñ–Ω —Å–æ–ª –∂–∞“õ—Ç–∞“ì—ã —Ñ–æ—Ä–º–∞–Ω—ã —Ç–æ–ª—Ç—ã—Ä—ã–ø, –±–∞—Ç—ã—Ä–º–∞–Ω—ã –±–∞—Å—ã“£—ã–∑.</p>
                </div>
            </div>

        </div>
        <!-- “ö“±—Ä–∞—Å—Ç—ã—Ä—É—à—ã–Ω—ã "@AinurJI" –¥–µ–ø ”©–∑–≥–µ—Ä—Ç—É -->
        <div class="mt-8 pt-4 border-t border-gray-200 text-right text-sm text-gray-500">
            <p>@AinurJI</p>
        </div>
    </div>

    <script type="module">
        // –ì–ª–æ–±–∞–ª–¥—ã –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª–¥—ã –∞—Ä—Ç“õ–∞ “õ–∞–π—Ç—É —Ñ—É–Ω–∫—Ü–∏—è—Å—ã
        const fetchWithRetry = async (url, options, maxRetries = 5) => {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) {
                        return response;
                    } else if (response.status === 429 && i < maxRetries - 1) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    } else {
                        throw new Error(`API —Å“±—Ä–∞—É—ã “õ–∞—Ç–µ: ${response.statusText}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) throw error;
                    const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        };

        window.generatePrompt = async (event) => {
            event.preventDefault();

            const element = document.getElementById('element').value.trim();
            const grade = document.getElementById('grade').value.trim();
            const topic = document.getElementById('topic').value.trim();
            const goal = document.getElementById('goal').value.trim();
            const resultArea = document.getElementById('resultArea');
            const loadingIndicator = document.getElementById('loading');
            const generateButton = document.getElementById('generateButton');

            if (!element || !grade || !topic || !goal) {
                resultArea.innerHTML = `<p class="text-red-600 font-medium text-center">–ë–∞—Ä–ª—ã“õ ”©—Ä—ñ—Å—Ç–µ—Ä–¥—ñ —Ç–æ–ª—Ç—ã—Ä—É “õ–∞–∂–µ—Ç!</p>`;
                return;
            }

            // UI –∫“Ø–π—ñ–Ω –∂–∞“£–∞—Ä—Ç—É
            resultArea.innerHTML = '';
            loadingIndicator.classList.remove('hidden');
            generateButton.disabled = true;
            generateButton.textContent = '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞–Ω—É–¥–∞...';

            const userQuery = `–ü”ô–Ω: ${element}. –°—ã–Ω—ã–ø: ${grade}-—Å—ã–Ω—ã–ø. –°–∞–±–∞“õ—Ç—ã“£ —Ç–∞“õ—ã—Ä—ã–±—ã: ${topic}. –°–∞–±–∞“õ—Ç—ã“£ –º–∞“õ—Å–∞—Ç—ã (–º“±“ì–∞–ª—ñ–º –Ω–µ “Ø–π—Ä–µ—Ç–∫—ñ—Å—ñ –∫–µ–ª–µ–¥—ñ): ${goal}. –û—Å—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–≥–µ —Å”ô–π–∫–µ—Å, –æ“õ—É—à—ã–ª–∞—Ä–¥—ã“£ –∂–∞—Å –µ—Ä–µ–∫—à–µ–ª—ñ–≥—ñ–Ω–µ —Å–∞–π, —Å—ã–Ω–∏ –∂”ô–Ω–µ –∫—Ä–µ–∞—Ç–∏–≤—Ç—ñ –æ–π–ª–∞—É–¥—ã –¥–∞–º—ã—Ç–∞—Ç—ã–Ω –æ“õ—É —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã–Ω “õ“±—Ä–∞—Å—Ç—ã—Ä. –¢–∞–ø—Å—ã—Ä–º–∞ –ê–±–∞–π–¥—ã“£ 7-“õ–∞—Ä–∞—Å”©–∑—ñ–Ω—ñ“£ “Ø–ª–≥—ñ—Å—ñ–Ω–¥–µ–≥—ñ–¥–µ–π “õ“±—Ä—ã–ª—ã–º–¥–∞ –±–æ–ª—Å—ã–Ω.`;
            
            // JSON —Å—Ö–µ–º–∞—Å—ã
            const responseSchema = {
                type: "OBJECT",
                properties: {
                    hook: { type: "STRING", description: "–û“õ—É—à—ã–ª–∞—Ä–¥—ã“£ –Ω–∞–∑–∞—Ä—ã–Ω –∞—É–¥–∞—Ä–∞—Ç—ã–Ω “õ—ã–∑—ã“õ—Ç—ã –∫—ñ—Ä—ñ—Å–ø–µ –Ω–µ–º–µ—Å–µ —Å“±—Ä–∞“õ (Hook)." },
                    mainTask: { type: "STRING", description: "–ù–µ–≥—ñ–∑–≥—ñ —Ç–∞–ª–¥–∞—É —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã –∂”ô–Ω–µ —à—ã“ì–∞—Ä–º–∞—à—ã–ª—ã“õ –∂“±–º—ã—Å (6-—Å—ã–Ω—ã–ø –¥–µ“£–≥–µ–π—ñ–Ω–µ –ª–∞–π—ã“õ)." },
                    evaluationCriteria: {
                        type: "ARRAY",
                        items: {
                            type: "OBJECT",
                            properties: {
                                criterion: { type: "STRING", description: "–ö—Ä–∏—Ç–µ—Ä–∏–π–¥—ñ“£ “õ—ã—Å“õ–∞ –∞—Ç–∞—É—ã" },
                                description: { type: "STRING", description: "–ö—Ä–∏—Ç–µ—Ä–∏–π–¥—ñ“£ —Ç–æ–ª—ã“õ —Å–∏–ø–∞—Ç—Ç–∞–º–∞—Å—ã" }
                            }
                        },
                        description: "–ë–∞“ì–∞–ª–∞—É“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω 3-4 —Ç“Ø—Å—ñ–Ω—ñ–∫—Ç—ñ –∫—Ä–∏—Ç–µ—Ä–∏–π–ª–µ—Ä —Ç—ñ–∑—ñ–º—ñ."
                    },
                    methodologicalAdvice: { type: "STRING", description: "–ú“±“ì–∞–ª—ñ–º–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å–∞–±–∞“õ—Ç—ã ”©—Ç–∫—ñ–∑—É –±–æ–π—ã–Ω—à–∞ 2-3 –Ω–∞“õ—Ç—ã ”ô–¥—ñ—Å—Ç–µ–º–µ–ª—ñ–∫ –∫–µ“£–µ—Å." },
                    bloomLevel: { type: "STRING", description: "–ë–ª—É–º —Ç–∞–∫—Å–æ–Ω–æ–º–∏—è—Å—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –¥–µ“£–≥–µ–π—ñ–Ω –∫”©—Ä—Å–µ—Ç—É (–ú—ã—Å–∞–ª—ã: –¢“Ø—Å—ñ–Ω—É, –¢–∞–ª–¥–∞—É, –ë–∞“ì–∞–ª–∞—É)." }
                }
            };
            
            const systemPrompt = `–°–µ–Ω ‚Äî –ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—Å—ñ“£, ”ô–¥—ñ—Å–∫–µ—Ä –∂”ô–Ω–µ ”ô–¥–µ–±–∏–µ—Ç –ø”ô–Ω—ñ –º“±“ì–∞–ª—ñ–º—ñ–Ω–µ –∫”©–º–µ–∫—à—ñ—Å—ñ“£. –°–µ–Ω—ñ“£ –º—ñ–Ω–¥–µ—Ç—ñ“£ - –±–µ—Ä—ñ–ª–≥–µ–Ω –ø”ô–Ω, —Å—ã–Ω—ã–ø –∂”ô–Ω–µ –º–∞“õ—Å–∞—Ç –Ω–µ–≥—ñ–∑—ñ–Ω–¥–µ, –æ“õ—É—à—ã–ª–∞—Ä–¥—ã“£ –∂–∞—Å –µ—Ä–µ–∫—à–µ–ª—ñ–≥—ñ–Ω–µ —Å–∞–π, —Å—ã–Ω–∏ –æ–π–ª–∞—É –º–µ–Ω –∫—Ä–µ–∞—Ç–∏–≤—Ç—ñ–ª—ñ–∫—Ç—ñ –¥–∞–º—ã—Ç–∞—Ç—ã–Ω, “ö–∞–∑–∞“õ—Å—Ç–∞–Ω–Ω—ã“£ –æ—Ä—Ç–∞ –º–µ–∫—Ç–µ–ø—Ç–µ—Ä—ñ–Ω—ñ“£ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—Ç–∞—Ä—ã–Ω–∞ —Å”ô–π–∫–µ—Å –∫“Ø—Ä–¥–µ–ª—ñ –æ“õ—É —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã–Ω “õ“±—Ä–∞—Å—Ç—ã—Ä—É. –ñ–∞—É–∞–±—ã“£–¥—ã “õ–∞—Ç–∞“£ —Ç“Ø—Ä–¥–µ “õ–∞–∑–∞“õ —Ç—ñ–ª—ñ–Ω–¥–µ –∂”ô–Ω–µ –±–µ—Ä—ñ–ª–≥–µ–Ω JSON —Ñ–æ—Ä–º–∞—Ç—ã–Ω–¥–∞ “ì–∞–Ω–∞ –±–µ—Ä.`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: responseSchema
                },
            };

            try {
                const response = await fetchWithRetry(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                
                let generatedJson;

                try {
                    const jsonString = result.candidates[0].content.parts[0].text;
                    generatedJson = JSON.parse(jsonString);
                } catch (e) {
                    throw new Error("AI-–¥–∞–Ω –∞–ª—ã–Ω“ì–∞–Ω –∂–∞—É–∞–ø—Ç—ã“£ “õ“±—Ä—ã–ª—ã–º—ã “õ–∞—Ç–µ –Ω–µ–º–µ—Å–µ JSON —Ñ–æ—Ä–º–∞—Ç—ã –±“±–∑—ã–ª“ì–∞–Ω.");
                }

                // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
                displayResult(generatedJson, element, grade, topic, goal);

            } catch (error) {
                console.error("–ì–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞—É “õ–∞—Ç–µ—Å—ñ:", error);
                resultArea.innerHTML = `<div class="p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"><p class="font-bold">“ö–∞—Ç–µ –æ—Ä—ã–Ω –∞–ª–¥—ã:</p><p>${error.message}. “ö–∞–π—Ç–∞–ª–∞–ø –∫”©—Ä—ñ“£—ñ–∑.</p></div>`;
            } finally {
                // UI –∫“Ø–π—ñ–Ω “õ–∞–ª–ø—ã–Ω–∞ –∫–µ–ª—Ç—ñ—Ä—É
                loadingIndicator.classList.add('hidden');
                generateButton.disabled = false;
                generateButton.textContent = '–¢–∞–ø—Å—ã—Ä–º–∞–Ω—ã –ì–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞—É';
            }
        };

        function displayResult(data, element, grade, topic, goal) {
            const resultArea = document.getElementById('resultArea');
            let htmlContent = `
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-lg">
                    <p class="font-bold text-blue-800">üìò –ü”ô–Ω: ${element} | üéì –°—ã–Ω—ã–ø: ${grade} | üß© –¢–∞“õ—ã—Ä—ã–ø: ${topic}</p>
                    <p class="text-blue-700 text-sm mt-1">üéØ –ú–∞“õ—Å–∞—Ç: ${goal}</p>
                </div>

                <div class="mb-6 p-4 border-l-4 border-yellow-500 bg-yellow-50 rounded-lg">
                    <h3 class="section-title text-xl font-bold text-yellow-800">‚ú® “ö—ã–∑—ã“õ—Ç—ã –ö—ñ—Ä—ñ—Å–ø–µ (Hook)</h3>
                    <div class="text-gray-700">${data.hook}</div>
                </div>

                <div class="mb-6 p-4 border-l-4 border-green-500 bg-green-50 rounded-lg">
                    <h3 class="section-title text-xl font-bold text-green-800">üß† –ù–µ–≥—ñ–∑–≥—ñ –¢–∞–ø—Å—ã—Ä–º–∞ (–°—ã–Ω–∏ –û–π–ª–∞—É)</h3>
                    <div class="text-gray-700">${data.mainTask}</div>
                </div>

                <div class="mb-6 p-4 border-l-4 border-purple-500 bg-purple-50 rounded-lg">
                    <h3 class="section-title text-xl font-bold text-purple-800">üìè –ë–∞“ì–∞–ª–∞—É –ö—Ä–∏—Ç–µ—Ä–∏–π–ª–µ—Ä—ñ</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-purple-200">
                            <thead>
                                <tr class="bg-purple-100">
                                    <th class="px-3 py-2 text-left text-xs font-medium text-purple-600 uppercase tracking-wider w-1/3">–ö—Ä–∏—Ç–µ—Ä–∏–π</th>
                                    <th class="px-3 py-2 text-left text-xs font-medium text-purple-600 uppercase tracking-wider w-2/3">–°–∏–ø–∞—Ç—Ç–∞–º–∞—Å—ã</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-purple-200">
                                ${data.evaluationCriteria.map(c => `
                                    <tr>
                                        <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900">${c.criterion}</td>
                                        <td class="px-3 py-2 text-sm text-gray-500">${c.description}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mb-6 p-4 border-l-4 border-red-500 bg-red-50 rounded-lg">
                    <h3 class="section-title text-xl font-bold text-red-800">üë©‚Äçüè´ –ú“±“ì–∞–ª—ñ–º–≥–µ ”ò–¥—ñ—Å—Ç–µ–º–µ–ª—ñ–∫ –ö–µ“£–µ—Å</h3>
                    <div class="text-gray-700">${data.methodologicalAdvice}</div>
                </div>

                <div class="p-4 bg-gray-100 rounded-lg text-center">
                    <p class="font-bold text-gray-700">üìà –¢–∞–ø—Å—ã—Ä–º–∞–Ω—ã“£ Bloom –¥–µ“£–≥–µ–π—ñ: <span class="text-blue-600">${data.bloomLevel}</span></p>
                </div>
            `;
            resultArea.innerHTML = htmlContent;
        }
    </script>
</body>
</html>
